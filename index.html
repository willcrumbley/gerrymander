<!DOCTYPE html>
<html lang="en">
    <head>
        <title>The efficiency gap: the measure of unconstitutional partisan gerrymandering used in Gill v. Whitford.</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src 'self' nationalmap.gov syndication.twitter.com www.facebook.com www.google-analytics.com data: http://www.w3.org; script-src 'self' 'unsafe-eval' 'unsafe-inline' platform.twitter.com connect.facebook.net www.google-analytics.com; style-src 'self' 'unsafe-inline'; frame-src 'self' platform.twitter.com staticxx.facebook.com www.facebook.com; connect-src 'self' www.googleapis.com gist.githubusercontent.com"> 
        <meta property="og:url"           content="http://www.efficiency-gap.com" />
        <meta property="og:type"          content="website" />
        <meta property="og:title"         content="The efficiency gap: the measure of unconstitutional partisan gerrymandering used in Gill v. Whitford." />
        <meta property="og:description"   content="Explore the efficiency gap, a measure of partisan gerrymandering, used in Gill v. Whitford, the Supreme Court case evaluating Wisconsin Congressional redistricting."/>
        <meta property="og:image"         content="http://www.efficiency-gap.com/static/img/gerrymander-250.png" />
        <meta name="description" content="Explore the efficiency gap, a measure of partisan gerrymandering used in Gill v. Whitford, the Supreme Court case evaluating Wisconsin Congressional redistricting." />
        <script src="./node_modules/tether/dist/js/tether.js"></script>
        <script src="./node_modules/d3/build/d3.js"></script>
        <script src="./node_modules/d3-geo-projection/build/d3-geo-projection.js"></script>
        <script src="./node_modules/topojson/dist/topojson.js"></script>
        <script src="./lib/js/d3.geomap.js"></script>
        <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.css">
        <link rel="stylesheet" href="../lib/css/d3.geomap.css">
        <link rel="canonical" href="http://www.efficiency-gap.com">
        <link href="./static/gerry.css" rel="stylesheet">
    </head>
    <body>
        <div id='navigation'></div>
        <div id="narrative-carousel-container" class="hidden-md-down"></div>
        <div id='main' class='container'>
            <div class="row mt-3">
                <div class="content col col-12 px-3">
                    <div id="blurb" class="col col-12">
                        <div class='alert alert-warning hidden-md-up'>Note: most of this site's functionality is disabled on mobile screen sizes. Feel free to explore then return with a larger device.</div>
                        <p>This site exists to allow interested users to explore the <a href="/">algorithm underlying the efficiency gap</a>, and then to create and share their own variant.</p>
                        <p>To report problems, or to propose that we add new data to the input dataset, please log an issue (or even better, make a pull request) at the project's <a href="https://github.com/willcrumbley/gerrymander/issues">Github repo</a>.</p>
                    </div>
                    <div id="map-row" class="col col-12 py-sm-4">
                        <h2>US States By Calculated Metric (as of 2016)</h2>
                        <p>States in red are most gerrymandered to favor Republicans, states in blue are gerrymandered to favor Democrats.</p>
                        <div id="map"></div>
                        <div id='map-disclaimer' class='alert alert-info'>For security reasons, the map will not display the metric until you review the algorithm and click the 'Calculate' button below.</div>
                    </div>
                    <div id="code" class="col col-12 hidden-sm-down py-sm-4">
                        <h2>Algorithm to Calculate Gerrymandering Metric</h2>
                        <div class='row'>
                            <div id="metric-sandbox">
                            </div>
                            <div class="col col-12">
                              <p>
                                The preceding JavaScript function should calculate a metric of partisan gerrymandering and return
                                an object containing: 
                                <table class='table table-striped table-bordered'>
                                  <thead>
                                    <tr>
                                      <th>Key</key>
                                      <th>Type</key>
                                      <th>Description</key>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr>
                                      <td>metric</td>
                                      <td><code>Float</code></td>
                                      <td>The metric of partisan gerrymandering.</td>
                                    </tr>
                                    <tr>
                                      <td>include</td>
                                      <td><code>Boolean</code></td>
                                      <td>Whether the state should be evaluated</td>
                                    </tr>
                                    <tr>
                                      <td>seats_flipped</td>
                                      <td><code>Integer</code></td>
                                      <td>
                                        An estimate for the number of US House seats that were flipped to the other
                                        party through gerrymandering
                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </p>
                            </div>
                            <div id="share" class="col col-12" >
                                <h3>Share your own Algorithm</h3>
                                <div class="col col-12">
                                    <div class="row">
                                        Create a&nbsp;<a target='_blank' href="https://gist.github.com/">Github gist</a>&nbsp;with just the body of
                                        the function and enter its url below to generate a shareable link.
                                        <a href="https://gist.github.com/pbhavsar/c228879badcf21eb42bad78ceb6f1e4b" target="_blank">Here's an example.</a>
                                    </div>
                                    <div id='link-generator' class="row mt-3"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id='state-table' class='col col-12 py-sm-4'>
                        <div id='states-table'></div>
                    </div>
                    <div id='state-data' class='col col-12 hidden-sm-down py-sm-4'> 
                        <h2>Explore the State Data Used as Input</h2>
                        <div class='code'>
                            <textarea name="state-data-area" id="state-data-area" rows=20 cols=100 readonly class="code"></textarea>
                        </div>
                    </div>
                    <div id='notes' class='col col-12 py-sm-4'>
                        <div class='hidden-sm-down'>
                            <h2>Is this safe?</h2>
                            <p>This site allows the user to run arbitrary JavaScript from the textarea
                            above. If you believe that this site introduces any unaddressed security vulnerabilities, please file an issue at <a href='https://github.com/willcrumbley/gerrymander'>https://github.com/willcrumbley/gerrymander</a> and we will address the issue.</p>
                        </div>
                        <div class='hidden-sm-down'>
                            <h2>What about XSS and other kinds of malicious JavaScript?</h2>
                            <p>We are aware of the potential danger of sharing links with malicious 
                            JavaScript encoded, so (except for the default algorithm) the site does not automatically execute the decoded JavaScript, instead asking users to inspect the decoded script and execute it themselves. JavaScript
                            is also executed in a sandboxed iframe, and this page has a strict Content Security Policy.</p>
                        </div>
                        <div>
                            <h2>Data source</h2>
                            <p>"115th Congress Members Guide with Elections and Demographic Data by District" <a href="https://docs.google.com/spreadsheets/d/1oRl7vxEJUUDWJCyrjo62cELJD2ONIVl-D9TSUKiK9jk/edit">(Available On Google Docs)</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://platform.twitter.com/widgets.js" type="text/javascript"></script>
        <div id="fb-root"></div>
        <script src="https://connect.facebook.net/en_US/all.js#xfbml=1" type="text/javascript"></script>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-8765863-2', 'auto');
          ga('send', 'pageview');
        </script>
        <script src="./static/bin/bundle.js" type="text/javascript"></script>
        <script src="./node_modules/bootstrap/dist/js/bootstrap.js"></script>
    </body>
</html>
